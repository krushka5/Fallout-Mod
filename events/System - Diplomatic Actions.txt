namespace = diplomatic_actions

# Assassinate Leader
country_event = {
	id = diplomatic_actions.1
	title = diplomatic_actions.1.title
	desc = diplomatic_actions.1.desc
    picture = BIG_MT_CINEMATIC_eventPicture

    hidden = yes

    trigger = {
        has_country_flag = sent_assassin
    }
    
    immediate = {
        hidden_effect = {
            if = { limit = { has_global_flag = enable_event_logging } log = "[Root.GetName] - diplomatic_actions.1" }
        }
    }
    
	option = {
		name = diplomatic_actions.1.option.a
 
        clr_country_flag = sent_assassin
        
        clear_global_event_target = ass_killer
        save_global_event_target_as = ass_killer

        every_country = {
            limit = {
                has_country_flag = being_assassinated
                is_neighbor_of = ROOT
            }
            
            clr_country_flag = being_assassinated
            
            clear_global_event_target = ass_target
            save_global_event_target_as = ass_target
            
            random_list = {
                # Kill, Unknown
                25 = {
                    country_event = { id = diplomatic_actions.2 }
                    ROOT = { country_event = { id = diplomatic_actions.4 } }
                }
                # Kill, known
                25 = {
                    country_event = { id = diplomatic_actions.3 }
                    ROOT = { country_event = { id = diplomatic_actions.5 } }
                }
                # Alive, unknown
                25 = {
                    ROOT = { country_event = { id = diplomatic_actions.6 } }
                }
                # Alive, known
                25 = {
                    country_event = { id = diplomatic_actions.8 }
                    ROOT = { country_event = { id = diplomatic_actions.7 } }
                }
            }
        }
	}
}

# [Root.Monarch.GetTitle] [Root.Monarch.GetName] dies!
country_event = {
	id = diplomatic_actions.2
	title = diplomatic_actions.2.title
	desc = diplomatic_actions.2.desc
    picture = USA_FLAG_eventPicture

    is_triggered_only = yes
    
    immediate = {
        hidden_effect = {
            if = { limit = { has_global_flag = enable_event_logging } log = "[Root.GetName] - diplomatic_actions.2" }
        }
    }
    
	option = {
		name = diplomatic_actions.2.option.a
 
        kill_ruler = yes
	}
}

# [Root.Monarch.GetTitle] [Root.Monarch.GetName] assassinated!
country_event = {
	id = diplomatic_actions.3
	title = diplomatic_actions.3.title
	desc = diplomatic_actions.3.desc
    picture = USA_FLAG_eventPicture

    is_triggered_only = yes
    
    immediate = {
        hidden_effect = {
            if = { limit = { has_global_flag = enable_event_logging } log = "[Root.GetName] - diplomatic_actions.3" }
        }
    }
    
	option = {
		name = diplomatic_actions.3.option.a
 
        kill_ruler = yes
        
        add_opinion = {
            who = event_target:ass_killer
            modifier = assassination
        }
	}
}

# Assassination Suceeded
country_event = {
	id = diplomatic_actions.4
	title = diplomatic_actions.4.title
	desc = diplomatic_actions.4.desc
    picture = USA_FLAG_eventPicture

    is_triggered_only = yes
    
    immediate = {
        hidden_effect = {
            if = { limit = { has_global_flag = enable_event_logging } log = "[Root.GetName] - diplomatic_actions.4" }
        }
    }
    
	option = {
		name = diplomatic_actions.4.option.a
 
        add_prestige = 10
	}
}

# Assassination Worked
country_event = {
	id = diplomatic_actions.5
	title = diplomatic_actions.5.title
	desc = diplomatic_actions.5.desc
    picture = USA_FLAG_eventPicture

    is_triggered_only = yes
    
    immediate = {
        hidden_effect = {
            if = { limit = { has_global_flag = enable_event_logging } log = "[Root.GetName] - diplomatic_actions.5" }
        }
    }
    
	option = {
		name = diplomatic_actions.3.option.a
 
        add_prestige = -50
	}
}

# Assassination Failed
country_event = {
	id = diplomatic_actions.6
	title = diplomatic_actions.6.title
	desc = diplomatic_actions.6.desc
    picture = USA_FLAG_eventPicture

    is_triggered_only = yes
    
    immediate = {
        hidden_effect = {
            if = { limit = { has_global_flag = enable_event_logging } log = "[Root.GetName] - diplomatic_actions.6" }
        }
    }
    
	option = {
		name = diplomatic_actions.6.option.a
 
        add_prestige = -10
	}
}

# Assassination Exposed
country_event = {
	id = diplomatic_actions.7
	title = diplomatic_actions.7.title
	desc = diplomatic_actions.7.desc
    picture = USA_FLAG_eventPicture

    is_triggered_only = yes
    
    immediate = {
        hidden_effect = {
            if = { limit = { has_global_flag = enable_event_logging } log = "[Root.GetName] - diplomatic_actions.7" }
        }
    }
    
	option = {
		name = diplomatic_actions.7.option.a
 
        add_prestige = -50
	}
}

# Attempted Assassination of [Root.Monarch.GetTitle] [Root.Monarch.GetName]
country_event = {
	id = diplomatic_actions.8
	title = diplomatic_actions.8.title
	desc = diplomatic_actions.8.desc
    picture = USA_FLAG_eventPicture

    is_triggered_only = yes
    
    immediate = {
        hidden_effect = {
            if = { limit = { has_global_flag = enable_event_logging } log = "[Root.GetName] - diplomatic_actions.8" }
        }
    }
    
	option = {
		name = diplomatic_actions.8.option.a
 
        add_opinion = {
            who = event_target:ass_killer
            modifier = assassination
        }
	}
}

# Disrupt Alliance
country_event = {
	id = diplomatic_actions.20
	title = diplomatic_actions.20.title
    desc = diplomatic_actions.20.desc
	picture = DEADLY_POISON_eventPicture

    is_triggered_only = yes
    
	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = diplomatic_actions.20.option.a
        
        event_target:disrupted_ally = {
            country_event = { id = diplomatic_actions.21 }
        }
	}
}

# Engineered Upset
country_event = {
	id = diplomatic_actions.21
	title = diplomatic_actions.21.title
    desc = diplomatic_actions.21.desc
	picture = DEADLY_POISON_eventPicture

    is_triggered_only = yes

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = diplomatic_actions.21.option.a
		
        event_target:disrupt_target = {
            add_opinion = {
                who = ROOT
                modifier = alliance_disrupted
            }
        }
        
        add_opinion = {
            who = event_target:disrupt_target
            modifier = alliance_disrupted
        }
	}
}
