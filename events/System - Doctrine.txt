namespace = fallout_doctrine

#-------------------------
# Doctrine
#-------------------------
country_event = {
	id = fallout_doctrine.1
	title = fallout_doctrine.1.title
	desc = fallout_doctrine.1.desc
	picture = TERMINAL_eventPicture
	
	is_triggered_only = yes
    
    # Homeland Doctrine
	option = {
		name = fallout_doctrine.1.option.homeland_doctrine
        
        trigger = {
            is_at_war = no
        }
        
        country_event = { id = fallout_doctrine.3 }
	}
    option = {
		name = fallout_doctrine.1.option.homeland_doctrine.invalid
        
        trigger = {
            is_at_war = yes
        }
        
        custom_tooltip = DOCTRINE_CHANGE_BLOCKED_TT
        
        hidden_effect = {
            country_event = { id = fallout_doctrine.52 }
        }
	}
    
    # Siege Doctrine
	option = {
		name = fallout_doctrine.1.option.siege_doctrine
        
        trigger = {
            is_at_war = no
        }
        
        country_event = { id = fallout_doctrine.2 }
	}
    # Siege Doctrine - INVALID
	option = {
		name = fallout_doctrine.1.option.siege_doctrine.invalid
        
        trigger = {
            is_at_war = yes
        }
        
        custom_tooltip = DOCTRINE_CHANGE_BLOCKED_TT
        
        hidden_effect = {
            country_event = { id = fallout_doctrine.52 }
        }
	}
    
    # Insurrection Doctrine
	option = {
		name = fallout_doctrine.1.option.rebel_doctrine
        
        trigger = {
            NOT = { num_of_rebel_armies = 1 }
        }
        
        country_event = { id = fallout_doctrine.5 }
	}
    # Insurrection Doctrine - INVALID
	option = {
		name = fallout_doctrine.1.option.rebel_doctrine.invalid
        
        trigger = {
            num_of_rebel_armies = 1
        }
        
        custom_tooltip = DOCTRINE_CHANGE_BLOCKED_REBELS_TT
        
        hidden_effect = {
            country_event = { id = fallout_doctrine.52 }
        }
	}
    
    # Exit
    option = {
		name = fallout_doctrine.1.option.exit
        
        if = {
            limit = {
                ai = no
            }
            
            country_event = { id = fallout_status_report.1 }
        }
	}
}

#-------------------------
# Siege Doctrine
#-------------------------
country_event = {
	id = fallout_doctrine.2
	title = fallout_doctrine.2.title
	desc = fallout_doctrine.2.desc
	picture = GLOWING_SEA_eventPicture
	
	is_triggered_only = yes
    
    # Standard - NOT SELECTED
	option = {
		name = fallout_doctrine.2.option.standard
    
        trigger = {
            NOT = { has_country_flag = siege_type_1 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_STANDARD_TT
        
        hidden_effect = {
            clear_siege_doctrine_flags = yes
            set_country_flag = siege_type_1
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Standard - SELECTED
	option = {
		name = fallout_doctrine.2.option.standard.selected
    
        trigger = {
            has_country_flag = siege_type_1
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_STANDARD_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Standard - INVALID
	option = {
		name = fallout_doctrine.2.option.standard.invalid
    
        trigger = {
            NOT = { has_country_flag = siege_type_1 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_STANDARD_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Sow Terror - NOT SELECTED
	option = {
		name = fallout_doctrine.2.option.sow_terror
    
        trigger = {
            full_idea_group = fallout_professional_army_ideas
            NOT = { has_country_flag = siege_type_2 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_SOW_TERROR_TT
        
        hidden_effect = {
            clear_siege_doctrine_flags = yes
            set_country_flag = siege_type_2
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Sow Terror - SELECTED
	option = {
		name = fallout_doctrine.2.option.sow_terror.selected
    
        trigger = {
            full_idea_group = fallout_professional_army_ideas
            has_country_flag = siege_type_2
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_SOW_TERROR_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Sow Terror - INVALID
	option = {
		name = fallout_doctrine.2.option.sow_terror.invalid
    
        trigger = {
            full_idea_group = fallout_professional_army_ideas
            NOT = { has_country_flag = siege_type_2 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_SOW_TERROR_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Sow Terror - INVALID
	option = {
		name = fallout_doctrine.2.option.sow_terror.invalid
    
        trigger = {
            NOT = { full_idea_group = fallout_professional_army_ideas }
            NOT = { has_country_flag = siege_type_2 }
        }
        
        custom_tooltip = DOCTRINE_LACK_IDEAGROUP_SOW_TERROR_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_SOW_TERROR_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Slash and Burn - NOT SELECTED
	option = {
		name = fallout_doctrine.2.option.slash_and_burn
    
        trigger = {
            full_idea_group = fallout_army_tactics_ideas
            NOT = { has_country_flag = siege_type_3 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_SLASH_AND_BURN_TT
        
        hidden_effect = {
            clear_siege_doctrine_flags = yes
            set_country_flag = siege_type_3
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Slash and Burn - SELECTED
	option = {
		name = fallout_doctrine.2.option.slash_and_burn.selected
    
        trigger = {
            full_idea_group = fallout_army_tactics_ideas
            has_country_flag = siege_type_3
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_SLASH_AND_BURN_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Slash and Burn - INVALID
	option = {
		name = fallout_doctrine.2.option.slash_and_burn.invalid
    
        trigger = {
            full_idea_group = fallout_army_tactics_ideas
            NOT = { has_country_flag = siege_type_3 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_SLASH_AND_BURN_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Slash and Burn - INVALID
	option = {
		name = fallout_doctrine.2.option.slash_and_burn.invalid
    
        trigger = {
            NOT = { full_idea_group = fallout_army_tactics_ideas }
            NOT = { has_country_flag = siege_type_3 }
        }
        
        custom_tooltip = DOCTRINE_LACK_IDEAGROUP_SLASH_AND_BURN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_SLASH_AND_BURN_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Coup de Grace - NOT SELECTED
	# option = {
		# name = fallout_doctrine.2.option.coup_de_grace
    
        # trigger = {
            # NOT = { has_country_flag = siege_type_4 }
            # mil_power = 100
        # }
        
        # add_mil_power = -100
        
        # custom_tooltip = DOCTRINE_SPACER
        # custom_tooltip = SIEGE_DOCTRINE_COUP_DE_GRACE_TT
        
        # hidden_effect = {
            # clear_siege_doctrine_flags = yes
            # set_country_flag = siege_type_4
        # }
        
        # ai_chance = {
            # factor = 20
        # }
    # }
    # # Coup de Grace - SELECTED
	# option = {
		# name = fallout_doctrine.2.option.coup_de_grace.selected
    
        # trigger = {
            # has_country_flag = siege_type_4
        # }
        
        # custom_tooltip = ALREADY_CHOSEN_TT
        # custom_tooltip = DOCTRINE_SPACER
        # custom_tooltip = SIEGE_DOCTRINE_COUP_DE_GRACE_TT
        
        # ai_chance = {
            # factor = 0
        # }
    # }
    # # Coup de Grace - INVALID
	# option = {
		# name = fallout_doctrine.2.option.coup_de_grace.invalid
    
        # trigger = {
            # NOT = { has_country_flag = siege_type_4 }
            # NOT = { mil_power = 100 }
        # }
        
        # custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        # custom_tooltip = DOCTRINE_SPACER
        # custom_tooltip = SIEGE_DOCTRINE_COUP_DE_GRACE_TT
        
        # ai_chance = {
            # factor = 0
        # }
    # }
    
    # Enslave the Remnants - NOT SELECTED
	option = {
		name = fallout_doctrine.2.option.enslave_the_remnants
    
        trigger = {
            full_idea_group = fallout_imperialism_ideas
            NOT = { has_country_flag = siege_type_5 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_ENSLAVE_THE_REMNANTS_TT
        
        hidden_effect = {
            clear_siege_doctrine_flags = yes
            set_country_flag = siege_type_5
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Enslave the Remnants - SELECTED
	option = {
		name = fallout_doctrine.2.option.enslave_the_remnants.selected
    
        trigger = {
            full_idea_group = fallout_imperialism_ideas
            has_country_flag = siege_type_5
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_ENSLAVE_THE_REMNANTS_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Enslave the Remnants - INVALID
	option = {
		name = fallout_doctrine.2.option.enslave_the_remnants.invalid
    
        trigger = {
            full_idea_group = fallout_imperialism_ideas
            NOT = { has_country_flag = siege_type_5 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_ENSLAVE_THE_REMNANTS_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Enslave the Remnants - INVALID
	option = {
		name = fallout_doctrine.2.option.enslave_the_remnants.invalid
    
        trigger = {
            NOT = { full_idea_group = fallout_imperialism_ideas }
            NOT = { has_country_flag = siege_type_5 }
        }
        
        custom_tooltip = DOCTRINE_LACK_IDEAGROUP_ENSLAVE_THE_REMNANTS_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_ENSLAVE_THE_REMNANTS_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Purify and Cleanse - NOT SELECTED
	option = {
		name = fallout_doctrine.2.option.purify_and_cleanse
    
        trigger = {
            NOT = { religion = fungal }
            full_idea_group = fallout_army_organisation_ideas
            NOT = { religion = cult_of_the_damned }
            NOT = { has_country_flag = siege_type_6 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_PURIFY_AND_CLEANSE_TT
        
        hidden_effect = {
            clear_siege_doctrine_flags = yes
            set_country_flag = siege_type_6
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Purify and Cleanse - SELECTED
	option = {
		name = fallout_doctrine.2.option.purify_and_cleanse.selected
    
        trigger = {
            NOT = { religion = fungal }
            full_idea_group = fallout_army_organisation_ideas
            NOT = { religion = cult_of_the_damned }
            has_country_flag = siege_type_6
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_PURIFY_AND_CLEANSE_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Purify and Cleanse - INVALID
	option = {
		name = fallout_doctrine.2.option.purify_and_cleanse.invalid
    
        trigger = {
            NOT = { religion = fungal }
            full_idea_group = fallout_army_organisation_ideas
            NOT = { religion = cult_of_the_damned }
            NOT = { has_country_flag = siege_type_6 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_PURIFY_AND_CLEANSE_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Purify and Cleanse - INVALID
	option = {
		name = fallout_doctrine.2.option.purify_and_cleanse.invalid
    
        trigger = {
            NOT = { religion = fungal }
            NOT = { full_idea_group = fallout_army_organisation_ideas }
            NOT = { religion = cult_of_the_damned }
            NOT = { has_country_flag = siege_type_6 }
        }
        
        custom_tooltip = DOCTRINE_LACK_IDEAGROUP_PURIFY_AND_CLEANSE_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_PURIFY_AND_CLEANSE_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Fungal Conversion - NOT SELECTED
	option = {
		name = fallout_doctrine.2.option.fungal_conversion
    
        trigger = {
            religion = fungal
            NOT = { has_country_flag = siege_type_7 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_FUNGAL_CONVERSION_TT
        
        hidden_effect = {
            clear_siege_doctrine_flags = yes
            set_country_flag = siege_type_7
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Fungal Conversion - SELECTED
	option = {
		name = fallout_doctrine.2.option.fungal_conversion.selected
    
        trigger = {
            religion = fungal
            has_country_flag = siege_type_7
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_FUNGAL_CONVERSION_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Fungal Conversion - INVALID
	option = {
		name = fallout_doctrine.2.option.fungal_conversion.invalid
    
        trigger = {
            religion = fungal
            NOT = { has_country_flag = siege_type_7 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = SIEGE_DOCTRINE_FUNGAL_CONVERSION_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Exit
    option = {
		name = fallout_doctrine.2.option.return
        
        # Change for AI to make no change
        ai_chance = {
            factor = 20
        }
	}
    
    after = {
        hidden_effect = {
            if = {
                limit = {
                    ai = no
                }
                country_event = { id = fallout_doctrine.1 }
            }
        }
    }
}

#-------------------------
# Homeland Doctrine
#-------------------------
country_event = {
	id = fallout_doctrine.3
	title = fallout_doctrine.3.title
	desc = fallout_doctrine.3.desc
	picture = FARMSTEAD_eventPicture
	
	is_triggered_only = yes
    
    # Resignation - NOT SELECTED
	option = {
		name = fallout_doctrine.3.option.resignation
    
        trigger = {
            NOT = { has_country_flag = homeland_type_1 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_RESIGNATION_TT
        
        hidden_effect = {
            clear_homeland_doctrine_flags = yes
            set_country_flag = homeland_type_1
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Resignation - SELECTED
	option = {
		name = fallout_doctrine.3.option.resignation.selected
    
        trigger = {
            has_country_flag = homeland_type_1
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_RESIGNATION_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Resignation - INVALID
	option = {
		name = fallout_doctrine.3.option.resignation.invalid
    
        trigger = {
            NOT = { has_country_flag = homeland_type_1 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_RESIGNATION_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Martyrdom - NOT SELECTED
	option = {
		name = fallout_doctrine.3.option.martyrdom
    
        trigger = {
            full_idea_group = fallout_propaganda_ideas
            NOT = { has_country_flag = homeland_type_2 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_MARTYRDOM_TT
        
        hidden_effect = {
            clear_homeland_doctrine_flags = yes
            set_country_flag = homeland_type_2
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Martyrdom - SELECTED
	option = {
		name = fallout_doctrine.3.option.martyrdom.selected
    
        trigger = {
            full_idea_group = fallout_propaganda_ideas
            has_country_flag = homeland_type_2
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_MARTYRDOM_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Martyrdom - INVALID
	option = {
		name = fallout_doctrine.3.option.martyrdom.invalid
    
        trigger = {
            full_idea_group = fallout_propaganda_ideas
            NOT = { has_country_flag = homeland_type_2 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_MARTYRDOM_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Martyrdom - INVALID
	option = {
		name = fallout_doctrine.3.option.martyrdom.invalid
    
        trigger = {
            NOT = { full_idea_group = fallout_propaganda_ideas }
            NOT = { has_country_flag = homeland_type_2 }
        }
        
        custom_tooltip = DOCTRINE_LACK_IDEAGROUP_PROPAGANDA_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_MARTYRDOM_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Sabotage - NOT SELECTED
	option = {
		name = fallout_doctrine.3.option.sabotage
    
        trigger = {
            full_idea_group = fallout_espionage_ideas
            NOT = { has_country_flag = homeland_type_3 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_SABOTAGE_TT
        
        hidden_effect = {
            clear_homeland_doctrine_flags = yes
            set_country_flag = homeland_type_3
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Sabotage - SELECTED
	option = {
		name = fallout_doctrine.3.option.sabotage.selected
    
        trigger = {
            full_idea_group = fallout_espionage_ideas
            has_country_flag = homeland_type_3
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_SABOTAGE_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Sabotage - INVALID
	option = {
		name = fallout_doctrine.3.option.sabotage.invalid
    
        trigger = {
            full_idea_group = fallout_espionage_ideas
            NOT = { has_country_flag = homeland_type_3 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_SABOTAGE_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Sabotage - INVALID
	option = {
		name = fallout_doctrine.3.option.sabotage.invalid
    
        trigger = {
            NOT = { full_idea_group = fallout_espionage_ideas }
            NOT = { has_country_flag = homeland_type_3 }
        }
        
        custom_tooltip = DOCTRINE_LACK_IDEAGROUP_ESPIONAGE_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_SABOTAGE_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Slander - NOT SELECTED
	option = {
		name = fallout_doctrine.3.option.slander
    
        trigger = {
            full_idea_group = fallout_influence_ideas
            NOT = { has_country_flag = homeland_type_4 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_SLANDER_TT
        
        hidden_effect = {
            clear_homeland_doctrine_flags = yes
            set_country_flag = homeland_type_3
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Slander - SELECTED
	option = {
		name = fallout_doctrine.3.option.slander.selected
    
        trigger = {
            full_idea_group = fallout_influence_ideas
            has_country_flag = homeland_type_4
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_SLANDER_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Slander - INVALID
	option = {
		name = fallout_doctrine.3.option.slander.invalid
    
        trigger = {
            full_idea_group = fallout_influence_ideas
            NOT = { has_country_flag = homeland_type_4 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_SLANDER_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Slander - INVALID
	option = {
		name = fallout_doctrine.3.option.slander.invalid
    
        trigger = {
            NOT = { full_idea_group = fallout_influence_ideas }
            NOT = { has_country_flag = homeland_type_4 }
        }
        
        custom_tooltip = DOCTRINE_LACK_IDEAGROUP_INFLUENCE_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = HOMELAND_DOCTRINE_SLANDER_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Exit
    option = {
		name = fallout_doctrine.3.option.return
        
        ai_chance = {
            factor = 20
        }
	}
    
    after = {
        hidden_effect = {
            if = {
                limit = {
                    ai = no
                }
                country_event = { id = fallout_doctrine.1 }
            }
        }
    }
}

#-------------------------
# Insurrection Doctrine
#-------------------------
country_event = {
	id = fallout_doctrine.5
	title = fallout_doctrine.5.title
	desc = fallout_doctrine.5.desc
	picture = CONFRONTATION_eventPicture
	
	is_triggered_only = yes
    
    # Conflict - NOT SELECTED
	option = {
		name = fallout_doctrine.5.option.conflict
    
        trigger = {
            NOT = { has_country_flag = rebel_doctrine_type_1 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_CONFLICT_TT
        
        hidden_effect = {
            clear_rebel_doctrine_flags = yes
            set_country_flag = rebel_doctrine_type_1
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Conflict - SELECTED
	option = {
		name = fallout_doctrine.5.option.conflict.selected
    
        trigger = {
            has_country_flag = rebel_doctrine_type_1
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_CONFLICT_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Conflict - INVALID
	option = {
		name = fallout_doctrine.5.option.conflict.invalid
    
        trigger = {
            NOT = { has_country_flag = rebel_doctrine_type_1 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_CONFLICT_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Bribery - NOT SELECTED
	option = {
		name = fallout_doctrine.5.option.bribery
    
        trigger = {
            full_idea_group = fallout_economic_ideas
            NOT = { has_country_flag = rebel_doctrine_type_2 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_BRIBERY_TT
        
        hidden_effect = {
            clear_rebel_doctrine_flags = yes
            set_country_flag = rebel_doctrine_type_2
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Bribery - SELECTED
	option = {
		name = fallout_doctrine.5.option.bribery.selected
    
        trigger = {
            full_idea_group = fallout_economic_ideas
            has_country_flag = rebel_doctrine_type_2
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_BRIBERY_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Bribery - INVALID
	option = {
		name = fallout_doctrine.5.option.bribery.invalid
    
        trigger = {
            full_idea_group = fallout_economic_ideas
            NOT = { has_country_flag = rebel_doctrine_type_2 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_BRIBERY_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Bribery - INVALID
	option = {
		name = fallout_doctrine.5.option.bribery.invalid
    
        trigger = {
            NOT = { full_idea_group = fallout_economic_ideas }
            NOT = { has_country_flag = rebel_doctrine_type_2 }
        }
        
        custom_tooltip = DOCTRINE_LACK_IDEAGROUP_ECONOMIC_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_BRIBERY_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Corruption - NOT SELECTED
	option = {
		name = fallout_doctrine.5.option.corruption
    
        trigger = {
            full_idea_group = fallout_law_ideas
            NOT = { has_country_flag = rebel_doctrine_type_3 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_CORRUPTION_TT
        
        hidden_effect = {
            clear_rebel_doctrine_flags = yes
            set_country_flag = rebel_doctrine_type_3
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Corruption - SELECTED
	option = {
		name = fallout_doctrine.5.option.corruption.selected
    
        trigger = {
            full_idea_group = fallout_law_ideas
            has_country_flag = rebel_doctrine_type_3
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_CORRUPTION_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Corruption - INVALID
	option = {
		name = fallout_doctrine.5.option.corruption.invalid
    
        trigger = {
            full_idea_group = fallout_law_ideas
            NOT = { has_country_flag = rebel_doctrine_type_3 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_CORRUPTION_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Corruption - INVALID
	option = {
		name = fallout_doctrine.5.option.corruption.invalid
    
        trigger = {
            NOT = { full_idea_group = fallout_law_ideas }
            NOT = { has_country_flag = rebel_doctrine_type_3 }
        }
        
        custom_tooltip = DOCTRINE_LACK_IDEAGROUP_LAW_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_CORRUPTION_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Garrison - NOT SELECTED
	option = {
		name = fallout_doctrine.5.option.garrison
    
        trigger = {
            full_idea_group = fallout_absolutism_ideas
            NOT = { has_country_flag = rebel_doctrine_type_4 }
            mil_power = 100
        }
        
        add_mil_power = -100
        
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_GARRISON_TT
        
        hidden_effect = {
            clear_rebel_doctrine_flags = yes
            set_country_flag = rebel_doctrine_type_4
        }
        
        ai_chance = {
            factor = 20
        }
    }
    # Garrison - SELECTED
	option = {
		name = fallout_doctrine.5.option.garrison.selected
    
        trigger = {
            full_idea_group = fallout_absolutism_ideas
            has_country_flag = rebel_doctrine_type_4
        }
        
        custom_tooltip = ALREADY_CHOSEN_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_GARRISON_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Garrison - INVALID
	option = {
		name = fallout_doctrine.5.option.garrison.invalid
    
        trigger = { 
            full_idea_group = fallout_absolutism_ideas
            NOT = { has_country_flag = rebel_doctrine_type_4 }
            NOT = { mil_power = 100 }
        }
        
        custom_tooltip = DOCTRINE_LACK_MIL_COST_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_GARRISON_TT
        
        ai_chance = {
            factor = 0
        }
    }
    # Garrison - INVALID
	option = {
		name = fallout_doctrine.5.option.garrison.invalid
    
        trigger = { 
            NOT = { full_idea_group = fallout_absolutism_ideas }
            NOT = { has_country_flag = rebel_doctrine_type_4 }
        }
        
        custom_tooltip = DOCTRINE_LACK_IDEAGROUP_ABSOLUTISM_TT
        custom_tooltip = DOCTRINE_SPACER
        custom_tooltip = REBEL_DOCTRINE_GARRISON_TT
        
        ai_chance = {
            factor = 0
        }
    }
    
    # Exit
    option = {
		name = fallout_doctrine.5.option.return
        
        ai_chance = {
            factor = 20
        }
	}
    
    after = {
        hidden_effect = {
            if = {
                limit = {
                    ai = no
                }
                country_event = { id = fallout_doctrine.1 }
            }
        }
    }
}

#-------------------------
# Helper Events
#-------------------------
# These are to delay the kill_units effect so it doesn't occur in the same frame as the province controller change, which causes a CTD

# Rebel Kill
province_event = {
	id = fallout_doctrine.50
	title = fallout_doctrine.50.title
	desc = fallout_doctrine.50.desc
	picture = TERMINAL_eventPicture
	
    hidden = yes
	is_triggered_only = yes

	option = {
		name = fallout_doctrine.50.option.a
    
        kill_units = { 
            who = REB
        }
    }
}
# Rebel Occupation Revert
province_event = {
	id = fallout_doctrine.51
	title = fallout_doctrine.51.title
	desc = fallout_doctrine.51.desc
	picture = TERMINAL_eventPicture
	
    hidden = yes
	is_triggered_only = yes

	option = {
		name = fallout_doctrine.51.option.a
    
        change_controller = owner
    }
}

#-------------------------
# Loop Events
#-------------------------
# This is to loop the initial menu event
country_event = {
	id = fallout_doctrine.52
	title = fallout_doctrine.52.title
	desc = fallout_doctrine.52.desc
	picture = TERMINAL_eventPicture
	
    hidden = yes
	is_triggered_only = yes

	option = {
		name = fallout_doctrine.51.option.a
    
        country_event = { id = fallout_doctrine.1 }
    }
}


#-------------------------
# Notification Events
#-------------------------
# These notify the opposing party if at war with a nation with the following doctrines active.
# This is so a player can see why the doctrine differences are occuring and allow for counter-play

# Notification: Sow Terror
country_event = {
	id = fallout_doctrine.60
	title = fallout_doctrine.60.title
	desc = fallout_doctrine.60.desc
	picture = TERMINAL_eventPicture
	
    is_triggered_only = yes
    
    trigger = {
        NOT = { has_country_flag = doctrine_notify_sow_terror }
        is_at_war = yes
        any_country = {
            war_with = ROOT
            has_country_flag = siege_type_2
        }
    }

    mean_time_to_happen = { 
        days = 1 
    }
    
    immediate = {
        hidden_effect = {
            random_country = {
                limit = {
                    war_with = ROOT
                    has_country_flag = siege_type_2
                }
                save_event_target_as = enemy_country
            }
            
            set_country_flag = doctrine_notify_sow_terror
        }
    }
    
	option = {
		name = fallout_doctrine.60.option.a
    
        custom_tooltip = SIEGE_DOCTRINE_SOW_TERROR_ENEMY_TT
    }
}

# Notification: Slash and Burn
country_event = {
	id = fallout_doctrine.61
	title = fallout_doctrine.61.title
	desc = fallout_doctrine.61.desc
	picture = TERMINAL_eventPicture
	
    is_triggered_only = yes
    
    trigger = {
        NOT = { has_country_flag = doctrine_notify_slash_and_burn }
        is_at_war = yes
        any_country = {
            war_with = ROOT
            has_country_flag = siege_type_3
        }
    }

    mean_time_to_happen = { 
        days = 1 
    }
    
    immediate = {
        hidden_effect = {
            random_country = {
                limit = {
                    war_with = ROOT
                    has_country_flag = siege_type_3
                }
                save_event_target_as = enemy_country
            }
            
            set_country_flag = doctrine_notify_slash_and_burn
        }
    }
    
	option = {
		name = fallout_doctrine.61.option.a
    
        custom_tooltip = SIEGE_DOCTRINE_SLASH_AND_BURN_ENEMY_TT
    }
}

# Notification: Coup de Grace
country_event = {
	id = fallout_doctrine.62
	title = fallout_doctrine.62.title
	desc = fallout_doctrine.62.desc
	picture = TERMINAL_eventPicture
	
    is_triggered_only = yes
    
    trigger = {
        NOT = { has_country_flag = doctrine_notify_coup_de_grace }
        is_at_war = yes
        any_country = {
            war_with = ROOT
            has_country_flag = siege_type_4
        }
    }

    mean_time_to_happen = { 
        days = 1 
    }
    
    immediate = {
        hidden_effect = {
            random_country = {
                limit = {
                    war_with = ROOT
                    has_country_flag = siege_type_4
                }
                save_event_target_as = enemy_country
            }
            
            set_country_flag = doctrine_notify_coup_de_grace
        }
    }
    
	option = {
		name = fallout_doctrine.62.option.a
    
        custom_tooltip = SIEGE_DOCTRINE_COUP_DE_GRACE_ENEMY_TT
    }
}

# Notification: Martyrdom
country_event = {
	id = fallout_doctrine.63
	title = fallout_doctrine.63.title
	desc = fallout_doctrine.63.desc
	picture = TERMINAL_eventPicture
	
    is_triggered_only = yes
    
    trigger = {
        NOT = { has_country_flag = doctrine_notify_martyrdom }
        is_at_war = yes
        any_country = {
            war_with = ROOT
            has_country_flag = homeland_type_2
        }
    }

    mean_time_to_happen = { 
        days = 1 
    }
    
    immediate = {
        hidden_effect = {
            random_country = {
                limit = {
                    war_with = ROOT
                    has_country_flag = homeland_type_2
                }
                save_event_target_as = enemy_country
            }
            
            set_country_flag = doctrine_notify_martyrdom
        }
    }
    
	option = {
		name = fallout_doctrine.63.option.a
    
        custom_tooltip = HOMELAND_DOCTRINE_MARTYRDOM_ENEMY_TT
    }
}

# Notification: Sabotage
country_event = {
	id = fallout_doctrine.64
	title = fallout_doctrine.64.title
	desc = fallout_doctrine.64.desc
	picture = TERMINAL_eventPicture
	
    is_triggered_only = yes
    
    trigger = {
        NOT = { has_country_flag = doctrine_notify_sabotage }
        is_at_war = yes
        any_country = {
            war_with = ROOT
            has_country_flag = homeland_type_3
        }
    }

    mean_time_to_happen = { 
        days = 1 
    }
    
    immediate = {
        hidden_effect = {
            random_country = {
                limit = {
                    war_with = ROOT
                    has_country_flag = homeland_type_3
                }
                save_event_target_as = enemy_country
            }
            
            set_country_flag = doctrine_notify_sabotage
        }
    }
    
	option = {
		name = fallout_doctrine.64.option.a
    
        custom_tooltip = HOMELAND_DOCTRINE_SABOTAGE_ENEMY_TT
    }
}

# Notification: Slander
country_event = {
	id = fallout_doctrine.65
	title = fallout_doctrine.65.title
	desc = fallout_doctrine.65.desc
	picture = TERMINAL_eventPicture
	
    is_triggered_only = yes
    
    trigger = {
        NOT = { has_country_flag = doctrine_notify_slander }
        is_at_war = yes
        any_country = {
            war_with = ROOT
            has_country_flag = homeland_type_4
        }
    }

    mean_time_to_happen = { 
        days = 1 
    }
    
    immediate = {
        hidden_effect = {
            random_country = {
                limit = {
                    war_with = ROOT
                    has_country_flag = homeland_type_4
                }
                save_event_target_as = enemy_country
            }
            
            set_country_flag = doctrine_notify_slander
        }
    }
    
	option = {
		name = fallout_doctrine.64.option.a
    
        custom_tooltip = HOMELAND_DOCTRINE_SLANDER_ENEMY_TT
    }
}

# Notification: Enslave the Remnants 
country_event = {
	id = fallout_doctrine.66
	title = fallout_doctrine.66.title
	desc = fallout_doctrine.66.desc
	picture = TERMINAL_eventPicture
	
    is_triggered_only = yes
    
    trigger = {
        NOT = { has_country_flag = doctrine_notify_enslave_the_remnants }
        is_at_war = yes
        any_country = {
            war_with = ROOT
            has_country_flag = siege_type_5
        }
    }

    mean_time_to_happen = { 
        days = 1 
    }
    
    immediate = {
        hidden_effect = {
            random_country = {
                limit = {
                    war_with = ROOT
                    has_country_flag = siege_type_5
                }
                save_event_target_as = enemy_country
            }
            
            set_country_flag = doctrine_notify_enslave_the_remnants
        }
    }
    
	option = {
		name = fallout_doctrine.66.option.a
    
        custom_tooltip = SIEGE_DOCTRINE_ENSLAVE_THE_REMNANTS_ENEMY_TT
    }
}

# Notification: Purify and Cleanse
country_event = {
	id = fallout_doctrine.67
	title = fallout_doctrine.67.title
	desc = fallout_doctrine.67.desc
	picture = TERMINAL_eventPicture
	
    is_triggered_only = yes
    
    trigger = {
        NOT = { has_country_flag = doctrine_notify_purify_and_cleanse }
        is_at_war = yes
        any_country = {
            war_with = ROOT
            has_country_flag = siege_type_6
        }
    }

    mean_time_to_happen = { 
        days = 1 
    }
    
    immediate = {
        hidden_effect = {
            random_country = {
                limit = {
                    war_with = ROOT
                    has_country_flag = siege_type_6
                }
                save_event_target_as = enemy_country
            }
            
            set_country_flag = doctrine_notify_purify_and_cleanse
        }
    }
    
	option = {
		name = fallout_doctrine.67.option.a
    
        custom_tooltip = SIEGE_DOCTRINE_PURIFY_AND_CLEANSE_ENEMY_TT
    }
}

# Notification: Fungal Conversion
country_event = {
	id = fallout_doctrine.68
	title = fallout_doctrine.68.title
	desc = fallout_doctrine.68.desc
	picture = TERMINAL_eventPicture
	
    is_triggered_only = yes
    
    trigger = {
        NOT = { has_country_flag = doctrine_notify_fungal_conversion }
        is_at_war = yes
        any_country = {
            war_with = ROOT
            has_country_flag = siege_type_7
        }
    }

    mean_time_to_happen = { 
        days = 1 
    }
    
    immediate = {
        hidden_effect = {
            random_country = {
                limit = {
                    war_with = ROOT
                    has_country_flag = siege_type_7
                }
                save_event_target_as = enemy_country
            }
            
            set_country_flag = doctrine_notify_fungal_conversion
        }
    }
    
	option = {
		name = fallout_doctrine.68.option.a
    
        custom_tooltip = SIEGE_DOCTRINE_FUNGAL_CONVERSION_ENEMY_TT
    }
}

# Reset Notification flags
country_event = {
	id = fallout_doctrine.99
	title = fallout_doctrine.99.title
	desc = fallout_doctrine.99.desc
	picture = TERMINAL_eventPicture
	
    hidden = yes
	is_triggered_only = yes

    trigger = {
        # Only remove the flags if ROOT is no longer at war, as this can be called whilst ROOT remains at war.
        is_at_war = no
    }

	option = {
		name = fallout_doctrine.99.option.a
    
        clr_country_flag = doctrine_notify_sow_terror
        clr_country_flag = doctrine_notify_slash_and_burn
        clr_country_flag = doctrine_notify_coup_de_grace
        clr_country_flag = doctrine_notify_enslave_the_remnants
        clr_country_flag = doctrine_notify_purify_and_cleanse
        clr_country_flag = doctrine_notify_fungal_conversion
        clr_country_flag = doctrine_notify_martyrdom
        clr_country_flag = doctrine_notify_sabotage
        clr_country_flag = doctrine_notify_slander
    }
}

#-------------------------
# Defaults
#-------------------------
country_event = {
	id = fallout_doctrine.100
	title = fallout_doctrine.100.title
	desc = fallout_doctrine.100.desc
	picture = TERMINAL_eventPicture
	
    hidden = yes
	is_triggered_only = yes
    
    trigger = {
        NOT = { has_country_flag = setup_default_doctrines }
    }
    
    immediate = {
        hidden_effect = {
            set_country_flag = setup_default_doctrines
        }
    }
    
	option = {
		name = fallout_doctrine.100.option.a
    
        # Default for all
        set_country_flag = siege_type_1
        set_country_flag = homeland_type_1
        set_country_flag = army_doctrine_type_1
        set_country_flag = rebel_doctrine_type_1
        
        # AI remains on default for first 50 years
        if = {
            limit = {
                ai = yes
            }
            
            add_country_modifier = {
                name = doctrine_ai_cooldown
                duration = 18250 # 50 years
            }
        }
    }
}
